<!DOCTYPE html>
<html>
<head>
  <title>Investment Survey</title>
  <style>
body {
    font-family: 'Hoefler Text', serif;
    background-color: #f4f4f9;
    margin: 0;
    padding: 20px;
}

h1 {
    font-family: 'Hoefler Text', serif;
    text-align: center;
    color: #0e1c32;
}

h2 {
    font-family: 'Hoefler Text', serif;
    color: #0e1c32;
}

h3, h4 {
    font-family: 'Hoefler Text', serif;
    color: #4d6d81;
}

label {
    font-family: 'Hoefler Text', serif;
    color: #4d6d81;
}

    form {
      background: #fff;
      padding: 40px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      max-width: 600px;
      margin: 20px auto;
    }

    label {
      display: block;
      margin-bottom: 10px;
      font-weight: bold;
    }

    input[type="number"], input[type="text"], select {
      width: 100%;
      padding: 10px;
      margin-bottom: 20px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    input[type="radio"] {
      margin-right: 10px;
    }

    .radio-group {
      margin-bottom: 20px;
    }

    input[type="submit"] {
      background-color: #007bff;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    input[type="submit"]:hover {
      background-color: #0056b3;
    }

    .radio-group {
      display: flex;
      flex-wrap: wrap; /* Allows wrapping to the next line if needed */
      gap: 10px; /* Adds space between items */
    }

    .radio-group fieldset {
      border: none;
      margin: 10px 0;
      padding: 0;
    }

    .radio-group legend {
      font-weight: bold;
      margin-bottom: 10px;
    }

    .radio-options {
      display: flex;
      gap: 10px;
    }

    .radio-options label {
      margin-right: 5px;
    }

    .radio-options input[type="radio"] {
      margin-right: 2px;
    }

    /* New styles for section visibility */
    .section {
      display: none;
    }
  
    .section.active {
      display: block;
    }

    .styled-button {
  background-color: #007bff;
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

.styled-button:hover {
  background-color: #0056b3;
}


@font-face {
    font-family: 'Hoefler Text';
    src: url('Website-P24\hoefler-text.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
}

@font-face {
    font-family: 'Hoefler Text';
    src: url('Website-P24\hoefler-text-italic.ttf') format('truetype');
    font-weight: normal;
    font-style: italic;
}

@font-face {
    font-family: 'Hoefler Text';
    src: url('Website-P24\hoefler-text-black.ttf') format('truetype');
    font-weight: bold;
    font-style: normal;
}

@font-face {
    font-family: 'Hoefler Text';
    src: url('Website-P24\hoefler-text-black-italic.ttf') format('truetype');
    font-weight: bold;
    font-style: italic;
}


  /* Loading spinner styles */
  #loadingSpinner {
      border: 4px solid rgba(0, 0, 0, 0.1);
      border-left: 4px solid #3498db;
      border-radius: 50%;
      width: 24px;
      height: 24px;
      animation: spin 1s linear infinite;
      display: inline-block;
      vertical-align: middle;
      margin-left: 10px;
  }

  /* Keyframes for spinner animation */
  @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
  }

  /* Disable button styles */
  button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
  }

  .progress-container {
    width: 100%;
    background-color: #f4f4f9;
    margin: 20px 0;
    border-radius: 5px;
    border: 1px solid #ccc;
    overflow: hidden;
    position: relative;
}

#progress-bar {
    width: 0%;
    height: 20px;
    background-color: #007bff;
    transition: width 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white; /* Text color for the progress percentage */
    font-family: 'Hoefler Text', serif;
    font-size: 14px;
    font-weight: bold;
    position: relative;
}

#progress-text {
    position: absolute; /* Keeps it centered in the container */
    top: 50%; /* Center vertically */
    left: 50%; /* Center horizontally */
    transform: translate(-50%, -50%); /* Adjust for perfect centering */
    color: #0e1c32; /* Text color for readability */
    font-family: 'Hoefler Text', serif;
    font-size: 14px;
    font-weight: bold;
    z-index: 1; /* Ensure it stays above the progress bar */
    pointer-events: none; /* Prevent interactions with text */
}






.radio-options-vertical label {
  display: flex;
  align-items: center;
  gap: 8px; /* Adjusts spacing between radio button and text */
  margin-bottom: 5px; /* Adds spacing between options */
}


  </style>
</head>
<body>
  <form id="surveyForm">

    <div class="section active" id="section1">
      <h1 id="welcome-message"></h1>
      <p>If this is not your name, please exit this form immediately. This investor insight report is sent to you by your financial adviser to provide more personalized investment options.</p>
  <input type="button" value="Begin!" class="styled-button" onclick="nextSection(15)">
    </div>

    <!--Attetion future me
    this section is called section 15 temporarily because i am not bothered to go about changing all the numbers-->



    <div class="section" id="section15">
      <h2>Section 1.5: Financial Eligibility</h2>
      <h3>Do you have any of the following?</h3>
      <div class="checkbox-group">
        <input type="checkbox" id="option1" name="financialEligibility" value="500000">
        <label for="option1">1. €500,000 in investable assets (excluding primary residence)</label><br>
        <input type="checkbox" id="option2" name="financialEligibility" value="100000">
        <label for="option2">2. An income of €100,000 for individuals</label><br>
        <input type="checkbox" id="option3" name="financialEligibility" value="300000">
        <label for="option3">3. An income of €300,000 for a couple</label><br>
        <input type="checkbox" id="option4" name="financialEligibility" value="none">
        <label for="option4">4. None of the above</label>
      </div>
      <input type="button" value="Previous" class="styled-button" onclick="prevSection(1)">
      <input type="button" value="Next" class="styled-button" onclick="validateSection15()">
    </div>
    



    <div class="section" id="section2">
      <h2>Section A: Risk Capacity</h2>
      <h3>Risk capacity can be thought of as an investor's objective financial situation...</h3>
      <label for="A1">A1. Currency for all entries to follow:</label>
      <select id="A1" name="A1">
        <option value="CHF">CHF</option>
        <option value="GBP">GBP</option>
        <option value="USD">USD</option>
        <option value="EUR">EUR</option>
      </select>
      <label for="A2">A2. How much do you have in liquid assets.</label>
      <input type="number" id="A2" name="A2">
      <label for="A4">A4. How much do you have in real estate?</label>
      <input type="number" id="A4" name="A4">
      <label for="A5">A5. How much do you have in pension assets?</label>
      <input type="number" id="A5" name="A5">
      <label for="A6">A6. How much do you owe in liabilities</label>
      <input type="number" id="A6" name="A6">
      <label for="A8">A8. How much do you owe in mortgage liabilities?</label>
      <input type="number" id="A8" name="A8">
      <label for="A9">A9. What is your average annual income? E.g., salary, pension, income from real estate or investments.</label>
      <input type="number" id="A9" name="A9">
      <label for="A10">A10. Average annual expenses? E.g., Cost of living, taxes, amortisations</label>
      <input type="number" id="A10" name="A10">
      <label for="A11">A11. Cumulative asset consumption over 5 years? (How much do you expect to spend in total over the next 5 years)</label>
      <input type="number" id="A11" name="A11">
      <label for="A12">A12. How much do you expect to receive in non-recurring income over the next 5 years? (Sale of house, collectibles etc.)</label>
      <input type="number" id="A12" name="A12">
      <label for="A13">A13. How much do you expect to spend in non-recurring expenses in the next 5 years? (E.g., Purchase of real estate, pension plans etc.)</label>
      <input type="number" id="A13" name="A13">
        <input type="button" value="Previous" class="styled-button" onclick="prevSection(15)">
        <input type="button" value="Next" class="styled-button" onclick="nextSection(3)">
    </div>

    <div class="section" id="section3">
      <h2>Section B: Confidence</h2>
      <label>B1. Suppose that you are considering investing €20,000. You must choose one investment option from the six alternatives below. Each investment has an equal probability of yielding one of two possible outcomes:</label>
      <div class="radio-group">
        <fieldset>
          <legend>Select Your Investment Option</legend>
          <div class="radio-options-vertical">
            <label>
              <input type="radio" id="B1A" name="B1" value="1">
              Investment A: €20,000 | €20,000
            </label><br>
      
            <label>
              <input type="radio" id="B1B" name="B1" value="2">
              Investment B: €19,000 | €24,000
            </label><br>
      
            <label>
              <input type="radio" id="B1C" name="B1" value="3">
              Investment C: €18,000 | €31,000
            </label><br>
      
            <label>
              <input type="radio" id="B1D" name="B1" value="4">
              Investment D: €17,000 | €38,000
            </label><br>
      
            <label>
              <input type="radio" id="B1E" name="B1" value="5">
              Investment E: €15,000 | €45,000
            </label><br>
      
            <label>
              <input type="radio" id="B1F" name="B1" value="6">
              Investment F: €14,000 | €52,000
            </label>
          </div>
        </fieldset>
      </div>
      
      <label for="borrow">B2. Would you borrow money for the purpose of making an investment (other than a mortgage) in the future?</label>
      <div class="radio-group">
        <label for="borrowYes">
          <input type="radio" id="borrowYes" name="B2" value="5">
          Yes
        </label><br>
        <label for="borrowNo">
          <input type="radio" id="borrowNo" name="B2" value="1">
          No
        </label>
      </div>
      
      <label for="confidenceIndex">B3. How would you rate the degree of risk you are willing to take in your financial affairs?</label>
      <div class="radio-group">
        <label for="investmentA">
          <input type="radio" id="investmentA" name="B3" value="1">
          1. Extremely low
        </label><br>
        <label for="investmentB">
          <input type="radio" id="investmentB" name="B3" value="2">
          2. Low
        </label><br>
        <label for="investmentC">
          <input type="radio" id="investmentC" name="B3" value="3">
          3. Moderate
        </label><br>
        <label for="investmentD">
          <input type="radio" id="investmentD" name="B3" value="4">
          4. High risk
        </label><br>
        <label for="investmentE">
          <input type="radio" id="investmentE" name="B3" value="5">
          5. Extremely high risk
        </label>
      </div>

<label for="confidenceIndex">B4. Financial advisers usually invest money (in a ‘portfolio’) across a spread of investments. Based on the risk-return profile, which portfolio would you choose?</label>
<div class="radio-group">
  <label for="portfolio1">
    <input type="radio" id="portfolio1" name="B4" value="1">
    Portfolio 1
  </label><br>

  <label for="portfolio2">
    <input type="radio" id="portfolio2" name="B4" value="2">
    Portfolio 2
  </label><br>

  <label for="portfolio3">
    <input type="radio" id="portfolio3" name="B4" value="3">
    Portfolio 3
  </label><br>

  <label for="portfolio4">
    <input type="radio" id="portfolio4" name="B4" value="4">
    Portfolio 4
  </label><br>

  <label for="portfolio5">
    <input type="radio" id="portfolio5" name="B4" value="5">
    Portfolio 5
  </label>
</div>

<label for="confidenceIndex">B5. To what extent are you willing to forego potentially large gains if it means the value of your investment is secure?</label>
<div class="radio-group">
  <label for="agreeStrongly">
    <input type="radio" id="agreeStrongly" name="B5" value="1">
    1. I strongly agree
  </label><br>

  <label for="agree">
    <input type="radio" id="agree" name="B5" value="2">
    2. I agree
  </label><br>

  <label for="neutral">
    <input type="radio" id="neutral" name="B5" value="3">
    3. I neither agree nor disagree
  </label><br>

  <label for="disagree">
    <input type="radio" id="disagree" name="B5" value="4">
    4. I disagree
  </label><br>

  <label for="disagreeStrongly">
    <input type="radio" id="disagreeStrongly" name="B5" value="5">
    5. I strongly disagree
  </label>
</div>
<label for="confidenceIndex">B6. Have you ever borrowed money for the purposes of making an investment? (Other than a mortgage)</label>
<div class="radio-group">
  <label for="borrowYes">
    <input type="radio" id="borrowYes" name="B6" value="5">
    Yes
  </label><br>

  <label for="borrowNo">
    <input type="radio" id="borrowNo" name="B6" value="1">
    No
  </label>
</div>
        <input type="button" value="Previous" class="styled-button" onclick="prevSection(2)">
  <input type="button" value="Next" class="styled-button" onclick="nextSection(4)">
    </div>

    <div class="section" id="section4">
      <h2>Section C: Impulsivity</h2>

<label for="C1">C1. In comparison with other people, how willing are you to make riskier investments?</label>
<div class="radio-group">
  <label for="impulsivityNever">
    <input type="radio" id="impulsivityNever" name="C1" value="1">
    Never
  </label><br>

  <label for="impulsivityRarely">
    <input type="radio" id="impulsivityRarely" name="C1" value="2">
    Rarely
  </label><br>

  <label for="impulsivitySometimes">
    <input type="radio" id="impulsivitySometimes" name="C1" value="3">
    Sometimes
  </label><br>

  <label for="impulsivityOften">
    <input type="radio" id="impulsivityOften" name="C1" value="4">
    Often
  </label><br>

  <label for="impulsivityAlways">
    <input type="radio" id="impulsivityAlways" name="C1" value="5">
    Always
  </label>
</div>

<label for="C2">C2. How much insurance do you currently buy? (Home, health, pet, travel, etc.)</label>
<div class="radio-group">
  <label for="insuranceMore">
    <input type="radio" id="insuranceMore" name="C2" value="1">
    Much more than most people I know
  </label><br>

  <label for="insuranceAboveAverage">
    <input type="radio" id="insuranceAboveAverage" name="C2" value="2">
    More than most people I know
  </label><br>

  <label for="insuranceAverage">
    <input type="radio" id="insuranceAverage" name="C2" value="3">
    About the same as most people I know
  </label><br>

  <label for="insuranceLess">
    <input type="radio" id="insuranceLess" name="C2" value="4">
    Less than most people I know
  </label><br>

  <label for="insuranceMuchLess">
    <input type="radio" id="insuranceMuchLess" name="C2" value="5">
    Much less than most people I know
  </label>
</div>

<label for="C3">C3. I can tolerate the risk of large losses in my investments to increase the likelihood of high returns.</label>
<div class="radio-group">
  <label for="tolerateDisagreeStrongly">
    <input type="radio" id="tolerateDisagreeStrongly" name="C3" value="1">
    Strongly disagree
  </label><br>

  <label for="tolerateDisagree">
    <input type="radio" id="tolerateDisagree" name="C3" value="2">
    Disagree
  </label><br>

  <label for="tolerateNeutral">
    <input type="radio" id="tolerateNeutral" name="C3" value="3">
    Neutral
  </label><br>

  <label for="tolerateAgree">
    <input type="radio" id="tolerateAgree" name="C3" value="4">
    Agree
  </label><br>

  <label for="tolerateAgreeStrongly">
    <input type="radio" id="tolerateAgreeStrongly" name="C3" value="5">
    Strongly agree
  </label>
</div>

<label for="C4">C4. How much insurance do you plan to buy in the future?</label>
<div class="radio-group">
  <label for="insuranceFutureMore">
    <input type="radio" id="insuranceFutureMore" name="C4" value="1">
    Much more than most people I know
  </label><br>

  <label for="insuranceFutureAboveAverage">
    <input type="radio" id="insuranceFutureAboveAverage" name="C4" value="2">
    More than most people I know
  </label><br>

  <label for="insuranceFutureAverage">
    <input type="radio" id="insuranceFutureAverage" name="C4" value="3">
    About the same as most people I know
  </label><br>

  <label for="insuranceFutureLess">
    <input type="radio" id="insuranceFutureLess" name="C4" value="4">
    Less than most people I know
  </label><br>

  <label for="insuranceFutureMuchLess">
    <input type="radio" id="insuranceFutureMuchLess" name="C4" value="5">
    Much less than most people I know
  </label>
</div>

<input type="button" value="Previous" class="styled-button" onclick="prevSection(3)">
<input type="button" value="Next" class="styled-button" onclick="nextSection(5)">


    </div>

    <div class="section" id="section5">
      <h2>Section D: Familiarity Preferences</h2>

<label for="D1">D1. What degree of risk have you taken with previous financial decisions?</label>
<div class="radio-group">
  <label for="riskVerySmall">
    <input type="radio" id="riskVerySmall" name="D1" value="1">
    Very small
  </label><br>

  <label for="riskSmall">
    <input type="radio" id="riskSmall" name="D1" value="2">
    Small
  </label><br>

  <label for="riskModerate">
    <input type="radio" id="riskModerate" name="D1" value="3">
    Moderate
  </label><br>

  <label for="riskLarge">
    <input type="radio" id="riskLarge" name="D1" value="4">
    Large
  </label><br>

  <label for="riskVeryLarge">
    <input type="radio" id="riskVeryLarge" name="D1" value="5">
    Very large
  </label>
</div>

<label for="D2">D2. What is more important to you in investing: risk or potential gains?</label>
<div class="radio-group">
  <label for="focusRisk">
    <input type="radio" id="focusRisk" name="D2" value="1">
    I always focus on the risk as opposed to gains
  </label><br>

  <label for="focusMostlyRisk">
    <input type="radio" id="focusMostlyRisk" name="D2" value="2">
    I usually focus on the risk rather than potential gains
  </label><br>

  <label for="focusBalanced">
    <input type="radio" id="focusBalanced" name="D2" value="3">
    I focus on risk and potential gains equally
  </label><br>

  <label for="focusMostlyGains">
    <input type="radio" id="focusMostlyGains" name="D2" value="4">
    I usually focus on the potential gains rather than risk
  </label><br>

  <label for="focusGains">
    <input type="radio" id="focusGains" name="D2" value="5">
    I always focus on the gains rather than risk
  </label>
</div>

<label for="D3">D3. The graphs below show the performance of four hypothetical portfolios over a ten-year period. Which portfolio would you choose?</label>
<div class="radio-group">
  <label for="portfolioA">
    <input type="radio" id="portfolioA" name="D3" value="1">
    Portfolio A
  </label><br>

  <label for="portfolioB">
    <input type="radio" id="portfolioB" name="D3" value="2">
    Portfolio B
  </label><br>

  <label for="portfolioC">
    <input type="radio" id="portfolioC" name="D3" value="3.5">
    Portfolio C
  </label><br>

  <label for="portfolioD">
    <input type="radio" id="portfolioD" name="D3" value="5">
    Portfolio D
  </label>
</div>

<label for="D4">D4. What degree of risk do you wish to take with your future financial decisions?</label>
<div class="radio-group">
  <label for="futureRiskVerySmall">
    <input type="radio" id="futureRiskVerySmall" name="D4" value="1">
    A very small amount of risk with very small potential returns
  </label><br>

  <label for="futureRiskSmall">
    <input type="radio" id="futureRiskSmall" name="D4" value="2">
    A small amount of risk with small potential returns
  </label><br>

  <label for="futureRiskModerate">
    <input type="radio" id="futureRiskModerate" name="D4" value="3">
    A moderate amount of risk with moderate potential returns
  </label><br>

  <label for="futureRiskLarge">
    <input type="radio" id="futureRiskLarge" name="D4" value="4">
    A large amount of risk with large potential returns
  </label><br>

  <label for="futureRiskVeryLarge">
    <input type="radio" id="futureRiskVeryLarge" name="D4" value="5">
    A very large amount of risk with very large potential returns
  </label>
</div>

<input type="button" value="Previous" class="styled-button" onclick="prevSection(4)">
<input type="button" value="Next" class="styled-button" onclick="nextSection(6)">

    </div>

    <div class="section" id="section6">
      <h2>Section E: Composure</h2> 
<h4>Composure is a measure of an investor's tendency to become anxious during their investment journey.</h4>
<hr>

<label for="E1">E1. Experts tell us that as the value of investments can go up and down, market fluctuations are normal. How would you react to the following drops in value?</label>

<div class="radio-group">
  <fieldset>
    <legend>5% Drop</legend>
    <label>
      <input type="radio" name="E1a" value="1"> 1
    </label>
    <label>
      <input type="radio" name="E1a" value="2"> 2
    </label>
    <label>
      <input type="radio" name="E1a" value="3"> 3
    </label>
    <label>
      <input type="radio" name="E1a" value="4"> 4
    </label>
    <label>
      <input type="radio" name="E1a" value="5"> 5
    </label>
  </fieldset>

  <fieldset>
    <legend>10% Drop</legend>
    <label>
      <input type="radio" name="E1b" value="1"> 1
    </label>
    <label>
      <input type="radio" name="E1b" value="2"> 2
    </label>
    <label>
      <input type="radio" name="E1b" value="3"> 3
    </label>
    <label>
      <input type="radio" name="E1b" value="4"> 4
    </label>
    <label>
      <input type="radio" name="E1b" value="5"> 5
    </label>
  </fieldset>

  <fieldset>
    <legend>20% Drop</legend>
    <label>
      <input type="radio" name="E1c" value="1"> 1
    </label>
    <label>
      <input type="radio" name="E1c" value="2"> 2
    </label>
    <label>
      <input type="radio" name="E1c" value="3"> 3
    </label>
    <label>
      <input type="radio" name="E1c" value="4"> 4
    </label>
    <label>
      <input type="radio" name="E1c" value="5"> 5
    </label>
  </fieldset>

  <fieldset>
    <legend>40% Drop</legend>
    <label>
      <input type="radio" name="E1d" value="1"> 1
    </label>
    <label>
      <input type="radio" name="E1d" value="2"> 2
    </label>
    <label>
      <input type="radio" name="E1d" value="3"> 3
    </label>
    <label>
      <input type="radio" name="E1d" value="4"> 4
    </label>
    <label>
      <input type="radio" name="E1d" value="5"> 5
    </label>
  </fieldset>

  <fieldset>
    <legend>50% Drop or more</legend>
    <label>
      <input type="radio" name="E1e" value="1"> 1
    </label>
    <label>
      <input type="radio" name="E1e" value="2"> 2
    </label>
    <label>
      <input type="radio" name="E1e" value="3"> 3
    </label>
    <label>
      <input type="radio" name="E1e" value="4"> 4
    </label>
    <label>
      <input type="radio" name="E1e" value="5"> 5
    </label>
  </fieldset>
</div>

<hr>

<label for="E2">E2. If you didn’t require access to your invested capital for at least six years in the future, how long would you be willing to hold onto your investments despite market fluctuations?</label>
<div class="radio-group">
  <label for="cashLoss">
    <input type="radio" id="cashLoss" name="E2" value="1">
    I would cash out if there was any loss in value
  </label><br>

  <label for="sixMonths">
    <input type="radio" id="sixMonths" name="E2" value="2">
    Up to 6 months
  </label><br>

  <label for="oneYear">
    <input type="radio" id="oneYear" name="E2" value="3">
    Up to 1 year
  </label><br>

  <label for="twoYears">
    <input type="radio" id="twoYears" name="E2" value="4">
    Up to 2 years
  </label><br>

  <label for="moreThanFiveYears">
    <input type="radio" id="moreThanFiveYears" name="E2" value="5">
    More than 5 years
  </label>
</div>

<label for="E3">E3. If my stocks and shares dropped 20%, I would take that as a good time to:</label>
<div class="radio-group">
  <label for="sell">
    <input type="radio" id="sell" name="E3" value="1">
    Sell them
  </label><br>

  <label for="doNothing">
    <input type="radio" id="doNothing" name="E3" value="3">
    Do nothing
  </label><br>

  <label for="buyMore">
    <input type="radio" id="buyMore" name="E3" value="5">
    Buy more
  </label>
</div>

<label for="E4">E4. If the value of your stocks rose 10% in one day, how likely are you to sell?</label>
<div class="radio-group">
  <fieldset>
    <legend>Please rate your likelihood</legend>
    <label>
      <input type="radio" name="E4" value="1"> 1. Very low
    </label>
    <label>
      <input type="radio" name="E4" value="2"> 2. Low
    </label>
    <label>
      <input type="radio" name="E4" value="3"> 3. Medium
    </label>
    <label>
      <input type="radio" name="E4" value="4"> 4. High
    </label>
    <label>
      <input type="radio" name="E4" value="5"> 5. Very high
    </label>
  </fieldset>
</div>

<input type="button" value="Previous" class="styled-button" onclick="prevSection(5)">
<input type="button" value="Next" class="styled-button" onclick="nextSection(7)">

    </div>

    <div class="section" id="section7">
      <h2>Section F: Experience & Knowledge</h2>
<h4>This section helps us understand how confident we should be in the investor's ability to assess their true risk tolerance.</h4>

<label for="F1">F1. Which of the following have you invested in previously? (Select all that apply)</label>
<div class="checkbox-group">
  <label for="liquidity">
    <input type="checkbox" id="liquidity" name="F1" value="Liquidity and money market products">
    Liquidity and money market products
  </label><br>

  <label for="bonds">
    <input type="checkbox" id="bonds" name="F1" value="Bonds (including bond funds)">
    Bonds (including bond funds)
  </label><br>

  <label for="equity">
    <input type="checkbox" id="equity" name="F1" value="Equity (including equity funds)">
    Equity (including equity funds)
  </label><br>

  <label for="multi-asset">
    <input type="checkbox" id="multi-asset" name="F1" value="Multi asset class funds">
    Multi asset class funds (including strategy funds)
  </label><br>

  <label for="precious-metals">
    <input type="checkbox" id="precious-metals" name="F1" value="Precious metals and commodities">
    Precious metals and commodities (including funds)
  </label><br>

  <label for="hedge-funds">
    <input type="checkbox" id="hedge-funds" name="F1" value="Hedge funds">
    Hedge funds
  </label><br>

  <label for="private-markets">
    <input type="checkbox" id="private-markets" name="F1" value="Private markets">
    Private markets
  </label><br>

  <label for="real-estate">
    <input type="checkbox" id="real-estate" name="F1" value="Real estate (including funds)">
    Real estate (including funds)
  </label><br>

  <label for="structured-products">
    <input type="checkbox" id="structured-products" name="F1" value="Structured products">
    Structured products (protection, optimization, etc.)
  </label><br>

  <label for="derivatives">
    <input type="checkbox" id="derivatives" name="F1" value="Other derivatives">
    Other derivatives
  </label>
</div>

<label for="F2">F2. Have you gained any of your financial knowledge from the following? (Select all that apply)</label>
<div class="checkbox-group">
  <label for="course-degree">
    <input type="checkbox" id="course-degree" name="F2" value="Course or Degree">
    Course or Degree
  </label><br>

  <label for="professional-experience">
    <input type="checkbox" id="professional-experience" name="F2" value="Professional Experience">
    Professional Experience
  </label><br>

  <label for="personal-investing">
    <input type="checkbox" id="personal-investing" name="F2" value="Personal Investing">
    Personal Investing
  </label><br>

  <label for="reading">
    <input type="checkbox" id="reading" name="F2" value="Reading books / websites / articles">
    Reading books / websites / articles
  </label>
</div>

<label for="F3">F3. Stocks generally provide fixed income akin to bonds.</label>
<div class="radio-group">
  <label for="stockFixedIncomeAgree">
    <input type="radio" id="stockFixedIncomeAgree" name="F3" value="1">
    Agree
  </label><br>

  <label for="stockFixedIncomeDisagree">
    <input type="radio" id="stockFixedIncomeDisagree" name="F3" value="5">
    Disagree
  </label>
</div>

<label for="F4">F4. Diversification is a strategy that reduces the risk of investments.</label>
<div class="radio-group">
  <label for="diversificationAgree">
    <input type="radio" id="diversificationAgree" name="F4" value="1">
    Agree
  </label><br>

  <label for="diversificationDisagree">
    <input type="radio" id="diversificationDisagree" name="F4" value="5">
    Disagree
  </label>
</div>

<label for="F5">F5. What level of financial knowledge would you say you have?</label>
<div class="radio-group">
  <label for="basicKnowledge">
    <input type="radio" id="basicKnowledge" name="F5" value="Basic">
    Basic
  </label><br>

  <label for="reasonableKnowledge">
    <input type="radio" id="reasonableKnowledge" name="F5" value="Reasonable">
    Reasonable
  </label><br>

  <label for="expertKnowledge">
    <input type="radio" id="expertKnowledge" name="F5" value="Expert">
    Expert
  </label><br>

  <label for="noKnowledge">
    <input type="radio" id="noKnowledge" name="F5" value="None">
    None
  </label>
</div>

<label for="F6">F6. A higher risk tolerance means an investor is willing to accept greater volatility for the potential of higher returns.</label>
<div class="radio-group">
  <label for="riskToleranceAgree">
    <input type="radio" id="riskToleranceAgree" name="F6" value="1">
    Agree
  </label><br>

  <label for="riskToleranceDisagree">
    <input type="radio" id="riskToleranceDisagree" name="F6" value="5">
    Disagree
  </label>
</div>

<label for="F7">F7. An increase in interest rates typically leads to a decrease in bond prices.</label>
<div class="radio-group">
  <label for="interestRatesAgree">
    <input type="radio" id="interestRatesAgree" name="F7" value="1">
    Agree
  </label><br>

  <label for="interestRatesDisagree">
    <input type="radio" id="interestRatesDisagree" name="F7" value="5">
    Disagree
  </label>
</div>

<input type="button" value="Previous" class="styled-button" onclick="prevSection(6)">
<input type="button" value="Next" class="styled-button" onclick="nextSection(8)">

    </div>

    <div class="section" id="section8">
      <h2>Section G: Impact Desire</h2>

<label for="G1">G1. On a scale of 1-5, how important is it that your investments align with ESG (Environmental, Social, Governance) principles?</label>
<div class="radio-group">
  <label for="esg1">
    <input type="radio" id="esg1" name="G1" value="1">
    1 - Not important
  </label><br>

  <label for="esg2">
    <input type="radio" id="esg2" name="G1" value="2">
    2 - Slightly important
  </label><br>

  <label for="esg3">
    <input type="radio" id="esg3" name="G1" value="3">
    3 - Moderately important
  </label><br>

  <label for="esg4">
    <input type="radio" id="esg4" name="G1" value="4">
    4 - Very important
  </label><br>

  <label for="esg5">
    <input type="radio" id="esg5" name="G1" value="5">
    5 - Extremely important
  </label>
</div>

<label for="G2">G2. Would you prefer to avoid industries that are harmful to the environment?</label>
<div class="radio-group">
  <label for="avoidYes">
    <input type="radio" id="avoidYes" name="G2" value="1">
    Yes
  </label><br>

  <label for="avoidNo">
    <input type="radio" id="avoidNo" name="G2" value="5">
    No
  </label>
</div>

<label for="G3">G3. Are there industries or companies you would like to exclude from your investments? (e.g., tobacco, weapons, gambling)</label>
<div class="radio-group">
  <label for="excludeYes">
    <input type="radio" id="excludeYes" name="G3" value="1">
    Yes
  </label><br>

  <label for="excludeNo">
    <input type="radio" id="excludeNo" name="G3" value="5">
    No
  </label>
</div>

<label for="exclusions">If yes, please list any exclusions:</label>
<textarea id="exclusions" name="exclusions" class="text-area" rows="4" cols="50" placeholder="List any exclusions here..."></textarea>

<input type="button" value="Previous" class="styled-button" onclick="prevSection(7)">
<input type="button" value="Next" class="styled-button" onclick="nextSection(9)">

    </div>

    <div class="section" id="section9">
      <h2>Section H: Impact Apprehension</h2>
      <h4>How confident are you in sustainable investing?</h4>
      
      <label for="H1">H1. How familiar are you with ESG investing? </label>
      <div class="radio-group">
        <label for="esgFamiliarity1">
          <input type="radio" id="esgFamiliarity1" name="H1" value="1">
          1 - Not familiar
        </label><br>
      
        <label for="esgFamiliarity2">
          <input type="radio" id="esgFamiliarity2" name="H1" value="2">
          2 - Slightly familiar
        </label><br>
      
        <label for="esgFamiliarity3">
          <input type="radio" id="esgFamiliarity3" name="H1" value="3">
          3 - Moderately familiar
        </label><br>
      
        <label for="esgFamiliarity4">
          <input type="radio" id="esgFamiliarity4" name="H1" value="4">
          4 - Very familiar
        </label><br>
      
        <label for="esgFamiliarity5">
          <input type="radio" id="esgFamiliarity5" name="H1" value="5">
          5 - Investor/Professional
        </label>
      </div>
      
      <label for="H2">H2. If a technology is unproven yet suspected to improve impact metrics, how comfortable would you feel investing in it?</label>
      <div class="radio-group">
        <fieldset>
        <label for="techVeryApprehensive">
          <input type="radio" id="techVeryApprehensive" name="H2" value="1">
          Very apprehensive
        </label><br>
      
        <label for="techSomewhatApprehensive">
          <input type="radio" id="techSomewhatApprehensive" name="H2" value="2">
          Somewhat apprehensive
        </label><br>
      
        <label for="techNeutral">
          <input type="radio" id="techNeutral" name="H2" value="3">
          Neither apprehensive nor confident
        </label><br>
      
        <label for="techSomewhatConfident">
          <input type="radio" id="techSomewhatConfident" name="H2" value="4">
          Somewhat confident
        </label><br>
      
        <label for="techVeryConfident">
          <input type="radio" id="techVeryConfident" name="H2" value="5">
          Very confident
        </label>
        <fieldset>
      </div>
      
      <input type="button" value="Previous" class="styled-button" onclick="prevSection(8)">
      <input type="button" value="Next" class="styled-button" onclick="nextSection(10)">
      
    </div>

    <div class="section" id="section10">
      <h2>Section I: Impact Trade-off</h2>
      <h4>How willing are you to trade-off monetary gain for impact gain?</h4>
      
      <label for="I1">I1. Would you prefer to avoid industries that are harmful to the environment, even if it results in a possible loss of financial gains?</label>
      <div class="radio-group">
        <label for="avoidIndustriesYes">
          <input type="radio" id="avoidIndustriesYes" name="I1" value="Yes">
          Yes
        </label><br>
      
        <label for="avoidIndustriesNo">
          <input type="radio" id="avoidIndustriesNo" name="I1" value="No">
          No
        </label>
      </div>
      
      <input type="button" value="Previous" class="styled-button" onclick="prevSection(9)">
      <input type="button" value="Next" class="styled-button" onclick="nextSection(11)">      
    </div>

    <div class="section" id="section11">
      <h2>Section J: Need for Evidence of Impact</h2>

      <label for="J1">J1. What type of reporting requirements do you expect? (Select all that apply)</label>
      <div class="checkbox-group">
        <label for="carbonAccounting">
          <input type="checkbox" id="carbonAccounting" name="J1" value="Carbon accounting">
          Carbon accounting
        </label><br>
      
        <label for="impactAudits">
          <input type="checkbox" id="impactAudits" name="J1" value="Independent impact audits">
          Independent impact audits
        </label><br>
      
        <label for="socialAccounting">
          <input type="checkbox" id="socialAccounting" name="J1" value="Social accounting">
          Social accounting
        </label><br>
      
        <label for="governanceReporting">
          <input type="checkbox" id="governanceReporting" name="J1" value="Governance reporting">
          Governance reporting
        </label><br>
      
        <label for="quotaAuditing">
          <input type="checkbox" id="quotaAuditing" name="J1" value="Quota auditing">
          Quota auditing
        </label>
      </div>
      
      <input type="button" value="Previous" class="styled-button" onclick="prevSection(10)">
      <input type="submit" id="submitButton" value="Submit">
      <div id="loadingSpinner" style="display: none;"></div>
      
      
    </div>
    



    <div class="progress-container">
      <span id="progress-text">Progress: 0%</span>
      <div id="progress-bar"></div>
  </div>
  
  

  </form>





  <script>
    document.addEventListener('DOMContentLoaded', async function() {
        // Function to get query parameters from the URL
        function getQueryParams() {
            const params = {};
            const queryString = window.location.search.slice(1);
            const queryArray = queryString.split('&');
            queryArray.forEach(param => {
                const [key, value] = param.split('=');
                if (key && value) {
                    params[decodeURIComponent(key)] = decodeURIComponent(value);
                }
            });
            return params;
        }

        // Extract username and email from URL parameters
        const params = getQueryParams();
        const CLusername = params['CLname'];
        const CLemail = params['CLemail'];
        const WMusename = params['WMusename'];

        const CLusernameDecrypt = await decrypt(CLusername);
  

        // Display welcome message based on URL parameters
        if (CLusername) {
            document.getElementById('welcome-message').innerText = 'Welcome, ' + CLusernameDecrypt + '!';
        }

        document.getElementById('surveyForm').onsubmit = function(event) {
          event.preventDefault();

          // Show the loading spinner and hide the submit button
          const submitButton = document.getElementById('submitButton');
          const loadingSpinner = document.getElementById('loadingSpinner');

          submitButton.style.display = 'none'; // Hide the submit button
          loadingSpinner.style.display = 'inline-block'; // Show the loading spinner
          submitButton.disabled = true; // Disable the button to prevent further clicks

          // Collect form data and send it to the server
          const formData = new FormData(event.target);
          const data = {};
          formData.forEach((value, key) => {
              if (data[key]) {
                  // Handle multiple values (checkboxes)
                  data[key] = Array.isArray(data[key]) ? data[key] : [data[key]];
                  data[key].push(value);
              } else {
                  data[key] = value;
              }
          });

          // Add the username and email to the data object from URL parameters
          if (CLusername) {
              data.CLusername = CLusername;
          }
          if (CLemail) {
              data.CLemail = CLemail;
          }
          if (WMusename) {
              data.WMusename = WMusename;
          }

          console.log('Sending data to the server:', data); // Log the data being sent

          // Send data to Flask server
          fetch('/submitlink', {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/json'
              },
              body: JSON.stringify(data)
          })
          .then(response => {
              if (!response.ok) {
                  throw new Error('Network response was not ok');
              }
              return response.json();
          })
          .then(result => {
              alert('Form submitted!');
              console.log(result);

              // Redirect after successful submission
              window.location.href = '/thankyoug';
          })
          .catch(error => {
              console.error('Error:', error);
          })
          .finally(() => {
              // Re-enable the button and hide the spinner after processing
              submitButton.style.display = 'inline-block'; // Show the submit button
              loadingSpinner.style.display = 'none'; // Hide the loading spinner
              submitButton.disabled = false; // Re-enable the button
            });
        };
      });





    function nextSection(sectionNumber) {
      const currentSection = document.querySelector('.section.active');
      const nextSection = document.getElementById(`section${sectionNumber}`);

      if (currentSection) {
        currentSection.classList.remove('active');
      }

      if (nextSection) {
        nextSection.classList.add('active');
      }
    }

    function prevSection(sectionNumber) {
    const currentSection = document.querySelector('.section.active');
    const prevSection = document.getElementById(`section${sectionNumber}`);

    if (currentSection) {
      currentSection.classList.remove('active');
    }

    if (prevSection) {
      prevSection.classList.add('active');
    }
  }

    // Initially show the first section
    document.addEventListener('DOMContentLoaded', function() {
      document.querySelector('.section').classList.add('active');
    });



    async function decrypt(data) {
          try {
              const response = await fetch('/decrypt', {
                  method: 'POST',
                  headers: {
                      'Content-Type': 'application/json'
                  },
                  body: JSON.stringify({ encrypted_data: data })
              });
              const result = await response.json();
              return result.decrypted_data;  // Correct property name
          } catch (error) {
              console.error("Error during encryption: ", error);
          }
      }

      function validateSection15() {
    const noneOfTheAbove = document.getElementById('option4');
    
    if (noneOfTheAbove.checked) {
        window.location.href = 'errorWithFinances.html'; // Redirect to the error page
    } else {
        nextSection(2); // Move to the next section if valid
    }
}


document.addEventListener('DOMContentLoaded', function () {
    const sections = document.querySelectorAll('.section'); // Get all sections
    const totalSections = sections.length; // Total number of sections
    const progressBar = document.getElementById('progress-bar'); // Progress bar element
    const progressText = document.getElementById('progress-text'); // Progress text element

    // Function to update progress based on the current section
    function updateProgress(currentSectionIndex) {
        const progressPercentage = ((currentSectionIndex + 1) / totalSections) * 100; // Calculate progress
        progressBar.style.width = `${progressPercentage}%`; // Update progress bar width
        progressText.textContent = `Progress: ${Math.round(progressPercentage)}%`; // Update progress text
    }

    // Function to navigate to the next section
    function nextSection(sectionNumber) {
        const currentSection = document.querySelector('.section.active');
        const nextSection = document.getElementById(`section${sectionNumber}`);

        if (currentSection) {
            currentSection.classList.remove('active');
        }

        if (nextSection) {
            nextSection.classList.add('active');
        }

        const currentIndex = Array.from(sections).indexOf(nextSection); // Get the index of the next section
        updateProgress(currentIndex); // Update progress
    }

    // Function to navigate to the previous section
    function prevSection(sectionNumber) {
        const currentSection = document.querySelector('.section.active');
        const prevSection = document.getElementById(`section${sectionNumber}`);

        if (currentSection) {
            currentSection.classList.remove('active');
        }

        if (prevSection) {
            prevSection.classList.add('active');
        }

        const currentIndex = Array.from(sections).indexOf(prevSection); // Get the index of the previous section
        updateProgress(currentIndex); // Update progress
    }

    // Initialize progress on page load
    updateProgress(0);

    // Expose the functions globally to be used in the buttons
    window.nextSection = nextSection;
    window.prevSection = prevSection;
});


   </script>



</body>
</html>
